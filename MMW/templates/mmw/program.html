{% extends 'base.html' %}
{% block app %}
<script>
    delete_parent = function () {
        event.target.parentElement.innerHTML = "";
    }
    var add_textarea = function () {
        textarea_dom = document.createElement('textarea');
        textarea_dom.className = "outer-textarea";
        delete_dom = document.createElement('button');
        delete_dom.innerText = "delete";
        delete_dom.className = "delete-button"
        delete_dom.addEventListener('click', delete_parent)
        div_dom = document.createElement('div')
        div_dom.className = "outer-textbox";
        div_dom.appendChild(textarea_dom);
        div_dom.appendChild(delete_dom);
        parent_dom = document.getElementById('outer-ul');
        parent_dom.appendChild(div_dom)
    };
    submit_data = function () {
        var doms1 = $('#outer-ul textarea');
        data_list = [];
        data_list.push($('#therapy')[0].value);
        data_list.push($('#social-group'[0].value));
        data_list.push($('#theraplist'[0].value));
        data_list.push($('#communicate'[0].value));
        data_list.push($('#community'[0].value));
        data_list.push($('#friendship'[0].value));
        data_list.push($('#second-week'[0].value));
        data_list.push($('#week'[0].value));
        full_data = {

        };
        for (var i=0; i<doms1.length; i++){
            data_list.push(doms1[0].value)
        }
        full_data['program'] = data_list;
        alert("data_list");
        alert(data_list);
        alert("send data");
        $.ajax({
                    url: '/MMW/program',
                    type: 'post',
                    data: JSON.stringify(full_data),
                    success: function (response) {
                        alert("retrieve data")
                    }
                }
        )
    }
</script>
<style>
    .textbox {
        background-color: white;
        margin-top: 19px;
        height: 100px;
    }
    .inner-textarea {
        width: 100%;
        background-color: lightblue;
        height: 70px;
    }
    .inner-span {
       color: blueviolet;
       font-weight: 900;
    }
    #outer-ul {
        padding-left: 0px;
        margin-top: 19px;
    }
    .outer-textarea {
        width: 100%;
        text-align: left;
        height: 88px;
        background-color: lightblue;
    }
    #program-id {
        margin-top: 40px;
    }
</style>
<div id="app">
    <div id="container">
        <div class="row">
            <div class="col-md-12">
                <h1>8. My programs and therapy supports</h1>
                <img src="">
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <p>Think about the programs and therapy supports you currently use</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-lg-3">
                <div class="container-header">
                    <span class="inner-span">Program</span>
                    <div class="textbox">
                        <span>[Example: Speech therapy]</span>
                        <textarea class="inner-textarea" id="therapy"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <div class="container-header">
                    <span class="inner-span">Who</span>
                    <div class="textbox">
                        <span>[Example: My speech therapist,Melissa]</span>
                        <textarea class="inner-textarea" id="therapist"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <div class="container-header">
                    <span class="inner-span">Purpose</span>
                    <div class="textbox">
                        <span><small>[Example: To help me communicate better]</small></span>
                        <textarea class="inner-textarea" id="communicate"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <div class="container-header">
                    <span class="inner-span">How often</span>
                    <div class="textbox">
                        <span>[Example: Once a week]</span>
                        <textarea class="inner-textarea" id="week"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-lg-3">
                <div class="textbox">
                    <span>[Example: Social group]</span>
                    <textarea class="inner-textarea" id="social-group"></textarea>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <div class="textbox">
                    <span>[Example: Community group]</span>
                    <textarea class="inner-textarea" id="community"></textarea>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <div class="textbox">
                    <span>[Example: Friendships]</span>
                    <textarea class="inner-textarea" id="friendship"></textarea>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <div class="textbox">
                    <span>[Example: Every second week]</span>
                    <textarea class="inner-textarea" id="second-week"></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-ld-3">
                <ul id="outer-ul" class="outer-ul1" >
                    <div class="outer-textbox">
                        <textarea class="outer-textarea"></textarea>
                        <button class="delete-button" onclick="delete_parent()">delete</button>
                    </div>
                </ul>
                <button id="program-id" onclick="add_textarea()">add more content</button>
            </div>
             <div class="col-md-3 col-ld-3">
                <ul id="outer-ul" class="outer-ul2">
                    <div class="outer-textbox">
                        <textarea class="outer-textarea"></textarea>
                        <button class="delete-button" onclick="delete_parent()">delete</button>
                    </div>
                </ul>
                <button id="program-id" onclick="add_textarea()">add more content</button>
            </div>
             <div class="col-md-3 col-ld-3">
                <ul id="outer-ul" class="outer-ul3">
                    <div class="outer-textbox">
                        <textarea class="outer-textarea"></textarea>
                        <button class="delete-button" onclick="delete_parent()">delete</button>
                    </div>
                </ul>
                <button id="program-id" onclick="add_textarea()">add more content</button>
            </div>
             <div class="col-md-3 col-ld-3">
                <ul id="outer-ul" class="outer-ul4">
                    <div class="outer-textbox">
                        <textarea class="outer-textarea"></textarea>
                        <button class="delete-button" onclick="delete_parent()">delete</button>
                    </div>
                </ul>
                <button id="program-id" onclick="add_textarea()">add more content</button>
            </div>
        </div>
        <input type="button" value="submit" onclick="submit_data()">
    </div>
</div>
{% endblock %}
